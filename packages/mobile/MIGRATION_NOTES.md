# ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆæ§‹é€ ç§»è¡Œãƒãƒ¼ãƒˆ

## æ¦‚è¦
è¤‡é›‘ãª4ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ—ãƒ©ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã‹ã‚‰ã€ã‚·ãƒ³ãƒ—ãƒ«ãª2ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ ã®ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ã«ç§»è¡Œã—ã¾ã—ãŸã€‚

## ç§»è¡Œæ—¥
2025å¹´1æœˆ13æ—¥

## å¤‰æ›´å†…å®¹

### å‰Šé™¤ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«
- `screens/training-screen.tsx` (æ—§)
- `screens/create-training-plan-screen.tsx`
- `screens/training-detail-screen.tsx`

### æ–°è¦ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«
- `types/workout.ts` - æ–°ã—ã„ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆæ§‹é€ ã®å‹å®šç¾©
- `screens/training-screen.tsx` (æ–°) - ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆä¸€è¦§ç”»é¢
- `screens/create-workout-screen.tsx` - ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆä½œæˆãƒ»ç·¨é›†ç”»é¢
- `screens/workout-detail-screen.tsx` - ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆè©³ç´°ãƒ»å®Ÿè¡Œç”»é¢

### å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«
- `services/api.ts` - æ–°ã—ã„ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆAPIè¿½åŠ ã€å¤ã„ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ—ãƒ©ãƒ³APIå‰Šé™¤
- `types/exercise.ts` - ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ—ãƒ©ãƒ³é–¢é€£å‹å®šç¾©å‰Šé™¤
- `App.tsx` - ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ§‹é€ æ›´æ–°

## ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹é€ ã®å¤‰æ›´

### æ—§æ§‹é€ ï¼ˆå»ƒæ­¢ï¼‰
```
training_plans (integer ID, base plans)
â””â”€â”€ user_training_plans (UUID ID, user-specific plans)
    â””â”€â”€ user_training_days (workout days)
        â””â”€â”€ user_day_exercises (individual exercises)
```

### æ–°æ§‹é€ ï¼ˆç¾åœ¨ï¼‰
```
user_workouts (direct workout management)
â””â”€â”€ user_workout_exercises (exercises within workouts)
```

## APIå¤‰æ›´

### å»ƒæ­¢ã•ã‚ŒãŸAPI
- `getTrainingPlan()`
- `createTrainingPlan()`
- `updateTrainingPlan()`
- `deleteTrainingPlan()`
- `getDayWorkout()`
- `updateDayWorkout()`
- `startTrainingSession()`
- `completeTrainingSession()`
- `recordExerciseSet()`

### æ–°ã—ã„API
- `getWorkouts()` - å…¨ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆå–å¾—
- `getWorkout(id)` - ç‰¹å®šãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆå–å¾—
- `createWorkout()` - ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆä½œæˆ
- `updateWorkout()` - ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆæ›´æ–°
- `deleteWorkout()` - ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆå‰Šé™¤

## åˆ©ç‚¹

1. **ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ **: 4ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰2ãƒ†ãƒ¼ãƒ–ãƒ«ã¸
2. **ç›´æ¥çš„ãªç®¡ç†**: ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ—ãƒ©ãƒ³ã®æ¦‚å¿µã‚’æ’é™¤
3. **é«˜ã„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ã‚·ãƒ³ãƒ—ãƒ«ãªã‚¯ã‚¨ãƒªã§é«˜é€Ÿãƒ‡ãƒ¼ã‚¿å–å¾—
4. **æŸ”è»Ÿæ€§**: å„ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆãŒç‹¬ç«‹ã—ã¦ç®¡ç†å¯èƒ½
5. **é–‹ç™ºåŠ¹ç‡**: ç†è§£ã—ã‚„ã™ãä¿å®ˆã—ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰

## ç§»è¡Œãƒ‡ãƒ¼ã‚¿
- æ—¢å­˜ã®4ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆãŒæ–°æ§‹é€ ã«æ­£å¸¸ã«ç§»è¡Œæ¸ˆã¿
- 4ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚ºãŒé©åˆ‡ãªé †åºã§ç§»è¡Œæ¸ˆã¿
- 2ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ãŒå®Œå…¨ã«ä¿æŒæ¸ˆã¿

## å‰Šé™¤å®Ÿè¡Œæ—¥
2025å¹´1æœˆ13æ—¥ 22:50 JST

### å‰Šé™¤ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«
- `training_plans` - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¸ˆã¿
- `user_training_plans` - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¸ˆã¿
- `user_training_days` - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¸ˆã¿
- `user_day_exercises` - ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ¸ˆã¿
- `training_plans_id_seq` - ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å‰Šé™¤
- `user_training_plans_base_plan_id_seq` - ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å‰Šé™¤

### å‰Šé™¤ã•ã‚ŒãŸEdge Functions
- `supabase/functions/training-plan/` - å®Œå…¨å‰Šé™¤
- `supabase/functions/training-session/` - å®Œå…¨å‰Šé™¤

### ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆä¿æŒä¸­ï¼‰
- `backup_training_plans` âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¿æŒ
- `backup_user_training_plans` âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¿æŒ
- `backup_user_training_days` âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¿æŒ
- `backup_user_day_exercises` âœ… ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¿æŒ

## æ³¨æ„äº‹é …
- âœ… å¤ã„ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ãƒ—ãƒ©ãƒ³é–¢é€£ã®ã‚³ãƒ¼ãƒ‰ã¯å®Œå…¨ã«å‰Šé™¤ã•ã‚Œã¾ã—ãŸ
- âœ… å¤ã„ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã¯å®‰å…¨ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å¾Œå‰Šé™¤ã•ã‚Œã¾ã—ãŸ
- âœ… å¤ã„Edge Functionsã¯å®Œå…¨ã«å‰Šé™¤ã•ã‚Œã¾ã—ãŸ
- âœ… æ–°ã—ã„ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆæ§‹é€ ã®ã¿ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„
- âš ï¸ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ†ãƒ¼ãƒ–ãƒ«ã¯å¿…è¦ã«å¿œã˜ã¦å°†æ¥å‰Šé™¤å¯èƒ½ã§ã™

## å®Œäº†ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
ğŸ‰ **ç§»è¡Œå®Œå…¨å®Œäº†** - æ–°ã—ã„ãƒ¯ãƒ¼ã‚¯ã‚¢ã‚¦ãƒˆã‚·ã‚¹ãƒ†ãƒ ãŒå®Œå…¨ã«ç¨¼åƒä¸­ 